<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    
    <div id="welcomeScreen">
        <h1>Can You Spell The News?</h1>
                <h4>Welcome to the game that tests both your news-knowledge and spelling skills.</h2>
                <ul>
                    <li>You will be quizzed on "the news"<div class=""></div></li>
                    <li>You earn points by selecting the right answer.</li>
                    <li>Wrong answers take time off the clock, so don't even think about Googling for the answer.</li>
                </ul>
                <br>
                <button id="startPlay" type="button">Click to Start!</button>
                <p>
    </div>
    
    
    <div id="theQuiz">
        <div id="showQuestion"></div>

        <ul id="showAnswers"></ul>
        <div id="theTimer">
            <h4>Time remaining: <span id="timeRemaining"></span></h4>
        </div>
    </div>


    <script>
        var welcomeScreenDiv = document.querySelector("#welcomeScreen");
        var theQuizDiv = document.querySelector ("#theQuiz");
        var startPlayBtn = document.querySelector ("#startPlay");
        var showQuestionDiv = document.querySelector("#showQuestion");
        var showAnswersDiv = document.querySelector("#showAnswers");
        var theTimerDiv = document.querySelector("#theTimer");
        var theQuestionEl = document.createElement("h2");
        var answerBtn;
        var timeRemainingDiv = document.querySelector("#timeRemaining");

        var validatedEl = document.createElement("p");
        // var checkAnswer;
        var score = 0;
        var validated;

        var timeToPlay = 20;
        var timeSeconds = timeToPlay;

        var QandA = [{
            question: "Who is the Director of the National Institute of Allergy and Infectious Diseases?",
            answers: ["Dr. Anthony Fauchi", "Dr. Debra Birx", "Dr. Anthony Fauci", "Dr. Debra Berx"],
            correct: "Dr. Anthony Fauci"
        },
        {
            question: "Which of the following is a city in China?",
            answers: ["Woohan", "Beijhing", "Shanghai", "Boston"],
            correct: "Shanghai"
        },
        {
            question: "Which of the following pharmaceutical companies was the first to get a Covid 19 vaccine approved in US?",
            answers: ["Moderna", "Phfizer", "Pfizer", "Medarna"],
            correct: "Pfizer"
        },
        {
            question: "Who is Joe Biden's Vice President (elect)",
            answers: ["Kamala Harris", "Camala Harris", "Kammala Harris", "Kamala Haris"],
            correct: "Kamala Harris"
        },
        {
            question: "Which active ingredient in cannibis is believed to treat pain and anxiety without a 'high'?",
            answers: ["CDC", "THC", "TBD", "CBD"],
            correct: "CBD"
        },
        {
            question: "She is married to Kanye West...",
            answers: ["Kim Jon-un", "Cloe Kardashian", "Kim Kardashian", "Cloey Kardashian"],
            correct: "Kim Kasrdashian"
        },
        {
            question: "What country used to be part of the Soviet Union?",
            answers: ["Lathvia", "Kyrgystan", "Armania", "Siberia"],
            correct: "Kyrgystan"
        },
        {
            question: "Which of these people is a world famous golfer?",
            answers: ["Jack Nicolson", "Tiger Wood", "Arnold Paulmer", "Gary Player"],
            correct: "Gary Player"
        },];

    window.onload = function () {
    welcomeScreenDiv.style = "border: 2px solid black;";
    theQuizDiv.style = "display: none;";
   
    }

    // init();

    startPlayBtn.addEventListener("click", function() {
        quizQuestion();
    })
        // quizQuestion();

        // Show questions and answers and record response
        function quizQuestion() {
            theQuizDiv.style = "display: block; border: 2px solid black";
            welcomeScreenDiv.style = "display: none";

            startTimer()
            showQuestion = (QandA[0].question)
            theQuestionEl.textContent = showQuestion;
            showQuestionDiv.append(theQuestionEl);

            QandA[0].answers.forEach(function (answers) {
                var answerBtn = document.createElement("button");
                answerBtn.textContent = answers;
                showAnswersDiv.appendChild(answerBtn);
                answerBtn.setAttribute("style", "width: 200px;");
                var breakPoint = document.createElement("br");
                showAnswersDiv.appendChild(breakPoint);


                answerBtn.addEventListener("click", function () {
                    console.log(answerBtn.textContent);
                    if (answerBtn.textContent === QandA[0].correct) {
                        score++;
                        validatedEl.textContent = "Correct! Your score is " + score + "."
                        showAnswersDiv.append(validatedEl);
                    }
                    else {
                        validatedEl.textContent = "Incorrect.  Your score is " + score + " ...AND lost 10 seconds on the timer";
                        showAnswersDiv.append(validatedEl);
                        timeSeconds -= 10;
                    }
                })
            })
        }

        // Timer function
        function startTimer() {

            interval = setInterval(function () {


                if (timeSeconds > 0) {
                    timeSeconds--;
                    timeRemainingDiv.textContent = timeSeconds;
                }
                else {
                    clearInterval(interval);
                    var timeExpired = document.createElement("p");
                    timeExpired.textContent = "Time Expired";
                    showAnswersDiv.append(timeExpired);
                }
            }, 1000);
        }




        //     displayValidation();




    //     function displayValidation() {
    //         validatedEl.textContent = checkAnswer;
    //         console.log(validatedEl.textContent);
    //         showAnswersDiv.append(validatedEl);
    //     }
    //         pauseOnValidation();

    

    //     Pause function() {
    //     function pauseOnValidation() {
    //         interval = setInterval(function () {

    //         }, 1000);
    //         questionDiv.remove();
    //         showAnswersDiv.remove();
    //         validatedP.remove();
    //     }
    //     console.log(i)
    //     quizQuestion();
    // }


    </script>

</body>

</html>